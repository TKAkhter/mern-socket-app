(this.webpackJsonpreactlogin=this.webpackJsonpreactlogin||[]).push([[0],{206:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(61),c=a.n(o),i=(a(206),a(13)),s=a(23),l="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"https://mern-socket.herokuapp.com",d=a(26),j=a.n(d),u=a(22),b=a(78),h=a(388),m=a(395),x=a(379),O=a(382),p=a(394),v=a(384),g=a(391),f=a(387),y=a(393),w=a(392),C=a(107),k=a.n(C),S=a(390),E=a(183),N=a(389),T=a(35),q=function(e,t){switch(t.type){case"USER_LOGIN":return t.payload.firstName&&t.payload.lastName&&t.payload.email&&t.payload.access_token&&t.payload._id?Object(u.a)(Object(u.a)({},e),{},{user:t.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(u.a)(Object(u.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(u.a)(Object(u.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},F=a(1),_=Object(n.createContext)("Initial Value"),W={darkTheme:!0,user:{}};function B(e){var t=e.children,a=Object(n.useReducer)(q,W),r=Object(i.a)(a,2),o=r[0],c=r[1];return Object(F.jsx)(_.Provider,{value:{state:o,dispatch:c},children:t})}var I=T.a({email:T.b("Enter your email").email("Enter a valid email").required("Email is required"),password:T.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),L=function(e){return Object(F.jsxs)(S.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(F.jsx)(g.a,{color:"inherit",href:l,children:"Your Website"})," ",(new Date).getFullYear(),"."]}))},P=Object(E.a)(),R=function(){var e=Object(s.g)(),t=Object(n.useContext)(_).dispatch,a=Object(b.a)({validationSchema:I,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values: ",e),j.a.post("".concat(l,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),e.data.email&&(t({type:"USER_LOGIN",payload:{firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email,access_token:e.data.access_token,_id:e.data._id}}),window.location.reload())})).catch((function(e){console.log("error: ",e)}))}});return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(N.a,{theme:P,children:Object(F.jsxs)(f.a,{container:!0,component:"main",sx:{height:"100vh",overflow:"hidden"},children:[Object(F.jsx)(x.a,{}),Object(F.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(F.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:w.a,elevation:6,square:!0,children:Object(F.jsxs)(y.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)(h.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(F.jsx)(k.a,{})}),Object(F.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(F.jsxs)(y.a,{component:"form",noValidate:!0,onSubmit:a.handleSubmit,sx:{mt:1},children:[Object(F.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,color:"primary",variant:"outlined",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(F.jsx)(O.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",color:"primary",variant:"outlined",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(F.jsx)(p.a,{control:Object(F.jsx)(v.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(F.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},color:"primary",children:"Sign In"}),Object(F.jsxs)(f.a,{container:!0,children:[Object(F.jsx)(f.a,{item:!0,xs:!0,children:Object(F.jsx)(g.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(F.jsx)(f.a,{item:!0,children:Object(F.jsx)(g.a,{onClick:function(){e.push("/signup")},variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(F.jsx)(L,{sx:{mt:5}})]})]})})]})})})},G=T.a({firstName:T.b("Enter your First name").required("Name is required"),lastName:T.b("Enter your Last name").required("Name is required"),email:T.b("Enter your email").email("Enter a valid email").required("Email is required"),password:T.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),A=function(e){return Object(F.jsxs)(S.a,Object(u.a)(Object(u.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(F.jsx)(g.a,{color:"inherit",href:l,children:"Your Website"})," ",(new Date).getFullYear(),"."]}))},D=Object(E.a)(),U=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(s.g)(),c=Object(b.a)({validationSchema:G,initialValues:{firstName:"",lastName:"",email:"",password:""},onSubmit:function(e){console.log("values: ",e),j.a.post("".concat(l,"/api/v1/user"),{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then((function(e){console.log("res: ",e.data),e.data.email&&r(!0)})).catch((function(e){console.log("error: ",e)}))}});return a?Object(F.jsx)(s.a,{to:"/login"}):Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(N.a,{theme:D,children:Object(F.jsxs)(f.a,{container:!0,component:"main",sx:{height:"100vh",overflow:"hidden"},children:[Object(F.jsx)(x.a,{}),Object(F.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(F.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:w.a,elevation:6,square:!0,children:Object(F.jsxs)(y.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(F.jsx)(h.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(F.jsx)(k.a,{})}),Object(F.jsx)(S.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(F.jsxs)(y.a,{component:"form",noValidate:!0,onSubmit:c.handleSubmit,sx:{mt:3},children:[Object(F.jsxs)(f.a,{container:!0,spacing:2,children:[Object(F.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(O.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,color:"primary",variant:"outlined",value:c.values.name,onChange:c.handleChange,error:c.touched.name&&Boolean(c.errors.name),helperText:c.touched.name&&c.errors.name})}),Object(F.jsx)(f.a,{item:!0,xs:12,sm:6,children:Object(F.jsx)(O.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"given-name",autoFocus:!0,color:"primary",variant:"outlined",value:c.values.name,onChange:c.handleChange,error:c.touched.name&&Boolean(c.errors.name),helperText:c.touched.name&&c.errors.name})}),Object(F.jsx)(f.a,{item:!0,xs:12,children:Object(F.jsx)(O.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",color:"primary",variant:"outlined",value:c.values.email,onChange:c.handleChange,error:c.touched.email&&Boolean(c.errors.email),helperText:c.touched.email&&c.errors.email})}),Object(F.jsx)(f.a,{item:!0,xs:12,children:Object(F.jsx)(O.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",color:"primary",variant:"outlined",value:c.values.password,onChange:c.handleChange,error:c.touched.password&&Boolean(c.errors.password),helperText:c.touched.password&&c.errors.password})}),Object(F.jsx)(f.a,{item:!0,xs:12,children:Object(F.jsx)(p.a,{control:Object(F.jsx)(v.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(F.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},color:"primary",children:"Sign Up"}),Object(F.jsx)(f.a,{container:!0,justifyContent:"flex-end",children:Object(F.jsx)(f.a,{item:!0,children:Object(F.jsx)(g.a,{onClick:function(){o.push("/login")},variant:"body2",children:"Already have an account? Sign in"})})}),Object(F.jsx)(A,{sx:{mt:5}})]})]})})]})})})},V=a(399),z=a(400),Y=a(401),H=a(177),J=a.n(H),M=function(){var e=Object(s.g)(),t=Object(n.useContext)(_).dispatch;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(y.a,{sx:{flexGrow:1},children:Object(F.jsx)(V.a,{position:"static",children:Object(F.jsxs)(z.a,{children:[Object(F.jsx)(Y.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(F.jsx)(J.a,{})}),Object(F.jsx)(S.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Saylani Web Application"}),Object(F.jsx)(m.a,{color:"inherit",onClick:function(){e.push("/")},children:"Home"}),Object(F.jsx)(m.a,{color:"inherit",onClick:function(){e.push("/livescore")},children:"Live Score"}),Object(F.jsx)(m.a,{color:"inherit",onClick:function(){e.push("/livescore-admin")},children:"Live Score Admin"}),Object(F.jsx)(m.a,{color:"inherit",onClick:function(){j.a.post("".concat(l,"/api/v1/logout"),{},{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),t({type:"USER_LOGOUT"})}))},children:"Logout"})]})})})})},K=a(398),Q=a(385),X=a(402),Z=a(178),$=a.n(Z),ee=T.a({title:T.b("Enter your email").required("Email is required")}),te=function(){var e=Object(n.useContext)(_).state,t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!0),s=Object(i.a)(c,2),d=s[0],u=s[1];Object(n.useEffect)((function(){j.a.get("".concat(l,"/api/v1/post"),{withCredentials:!0}).then((function(e){console.log("res: ",e.data),o(e.data)})).catch((function(e){console.log("error: ",e)}))}),[d]);var h=Object(b.a)({initialValues:{title:"",description:""},onSubmit:function(t){var a;console.log("values: ",t),j.a.post("".concat(l,"/api/v1/post"),{title:t.title,description:t.description,firstName:null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.firstName,access_token:e.user.access_token},{withCredentials:!0}).then((function(e){console.log("res: ",e.data),u(!d)})).catch((function(e){console.log("error: ",e)}))},validationSchema:ee});return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(y.a,{sx:{flexGrow:1,m:2},children:[Object(F.jsx)(S.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Posts"}),Object(F.jsx)(y.a,{component:"form",noValidate:!0,onSubmit:h.handleSubmit,sx:{mt:1},children:Object(F.jsx)(w.a,{style:{margin:16,padding:16},elevation:3,children:Object(F.jsxs)(f.a,{container:!0,alignItems:"center",spacing:2,children:[Object(F.jsx)(f.a,{xs:5,md:10,item:!0,style:{paddingRight:16},children:Object(F.jsx)(O.a,{fullWidth:!0,placeholder:"Title",color:"primary",id:"outlined-basic",label:"Title",variant:"filled",name:"title",value:h.values.title,onChange:h.handleChange,error:h.touched.title&&Boolean(h.errors.title),helperText:h.touched.title&&h.errors.title})}),Object(F.jsx)(f.a,{xs:5,md:10,item:!0,style:{paddingRight:16},children:Object(F.jsx)(O.a,{fullWidth:!0,color:"primary",id:"outlined-basic",placeholder:"Description",label:"Description",variant:"filled",name:"description",value:h.values.description,onChange:h.handleChange,error:h.touched.description&&Boolean(h.errors.description),helperText:h.touched.description&&h.errors.description})}),Object(F.jsx)(f.a,{xs:2,md:2,item:!0,children:Object(F.jsx)(m.a,{fullWidth:!0,color:"success",variant:"contained",type:"submit",children:"Add"})})]})})}),Object(F.jsxs)(w.a,{style:{margin:16,padding:16},elevation:3,children:[Object(F.jsx)(S.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Recently Added:"}),Object(F.jsx)(K.a,{spacing:3,children:r.map((function(t){return Object(F.jsx)(w.a,{style:{margin:10},elevation:3,id:t._id,children:Object(F.jsx)(Q.a,{secondaryAction:Object(F.jsx)(Y.a,{edge:"end","aria-label":"delete",onClick:function(t){return a=t,void j.a.delete("".concat(l,"/api/v1/post"),{data:{id:a.target.parentNode.id,access_token:e.user.access_token},withCredentials:!0}).then((function(e){console.log("res: ",e.data),u(!d)})).catch((function(e){console.log("error: ",e)}));var a},id:t._id,children:Object(F.jsx)($.a,{})}),children:Object(F.jsx)(X.a,{primary:t.title,secondary:t.description+" By "+t.firstName})})},t._id)}))})]})]})})};var ae=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(M,{}),Object(F.jsx)(te,{})]})},ne=a(381),re=a(396),oe=a(397),ce=a(182);var ie=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){j.a.get("".concat(l,"/api/v1/score"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),r(e.data)}))}),[]),Object(n.useEffect)((function(){var e=Object(ce.a)(l);return e.on("connect",(function(){console.log("connected to server")})),e.on("disconnect",(function(e){console.log("disconnected from server: ",e)})),e.on("SCORE",(function(e){console.log(e),r(e)})),function(){e.close()}}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(M,{}),Object(F.jsxs)("div",{style:{margin:"1rem"},children:[Object(F.jsx)("h1",{children:" Score Board "}),Object(F.jsx)(ne.a,{spacing:2,direction:"column",children:Object(F.jsx)(re.a,{sx:{minWidth:275},children:Object(F.jsxs)(oe.a,{children:[Object(F.jsxs)(S.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:[null===a||void 0===a?void 0:a.teamOne," vs. ",null===a||void 0===a?void 0:a.teamTwo," (bat ",a.bat,")"]}),Object(F.jsxs)(S.a,{variant:"h5",component:"div",children:[null===a||void 0===a?void 0:a.score," / ",null===a||void 0===a?void 0:a.wicket]}),Object(F.jsxs)(S.a,{sx:{mb:1.5},color:"text.secondary",children:["over: ",a.over]}),Object(F.jsxs)(S.a,{variant:"body2",children:["comentry:"," ",Object(F.jsxs)("b",{children:[" ",(null===a||void 0===a?void 0:a.comentry)||"Hassan Ali just droped the catch"]})]})]})})})]})]})};var se=function(){var e=Object(n.useState)({teamOne:"",teamTwo:"",bat:"",score:"",wicket:"",over:""}),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){j.a.get("".concat(l,"/api/v1/score"),{withCredentials:!0}).then((function(e){console.log("res +++: ",e.data),r(e.data)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(M,{}),Object(F.jsxs)("div",{style:{margin:"1rem"},children:[Object(F.jsx)("h1",{children:" Dashboard Control page "}),Object(F.jsxs)(y.a,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[Object(F.jsx)(O.a,{label:"Team 1",variant:"standard",value:a.teamOne,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{teamOne:e.target.value})}))},placeholder:"enter team one name"}),Object(F.jsx)(O.a,{label:"Team 2",variant:"standard",value:a.teamTwo,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{teamTwo:e.target.value})}))},placeholder:"enter team two name"})," ",Object(F.jsx)("br",{}),Object(F.jsx)(O.a,{label:"Bating team",variant:"standard",value:a.bat,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{bat:e.target.value})}))},placeholder:"who is batting"})," ",Object(F.jsx)("br",{}),Object(F.jsx)(O.a,{label:"runs/score",variant:"standard",type:"number",value:a.score,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{score:e.target.value})}))},placeholder:"What's the score"})," ",Object(F.jsx)("br",{}),Object(F.jsx)(O.a,{label:"wicket",variant:"standard",type:"number",value:a.wicket,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{wicket:e.target.value})}))},placeholder:"how many wickets"})," ",Object(F.jsx)("br",{}),Object(F.jsx)(O.a,{label:"over",variant:"standard",type:"number",value:a.over,onChange:function(e){r((function(t){return Object(u.a)(Object(u.a)({},t),{},{over:e.target.value})}))},placeholder:"how many overs"})," ",Object(F.jsx)("br",{}),Object(F.jsx)(m.a,{variant:"contained",onClick:function(){j.a.post("".concat(l,"/api/v1/score"),a,{withCredentials:!0}).then((function(e){console.log("res: ",e.data)}))},children:"Post"})]})]})]})};var le=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],r=t[1];return j.a.get("".concat(l,"/api/v1/getcookie"),{withCredentials:!0}).then((function(e){r(!0)})).catch((function(e){console.log("error: ",e),r(!1)})),Object(F.jsx)(F.Fragment,{children:a?Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{exact:!0,path:"/",children:Object(F.jsx)(ae,{})}),Object(F.jsx)(s.b,{exact:!0,path:"/livescore",children:Object(F.jsx)(ie,{})}),Object(F.jsx)(s.b,{exact:!0,path:"/livescore-admin",children:Object(F.jsx)(se,{})}),Object(F.jsx)(s.a,{to:"/"})]}):Object(F.jsxs)(s.d,{children:[Object(F.jsx)(s.b,{exact:!0,path:"/",children:Object(F.jsx)(R,{})}),Object(F.jsx)(s.b,{exact:!0,path:"/login",children:Object(F.jsx)(R,{})}),Object(F.jsx)(s.b,{exact:!0,path:"/signup",children:Object(F.jsx)(U,{})}),Object(F.jsx)(s.a,{to:"/"})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,403)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))},je=a(69);c.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(B,{children:Object(F.jsx)(je.a,{children:Object(F.jsx)(le,{})})})}),document.getElementById("root")),de()}},[[336,1,2]]]);
//# sourceMappingURL=main.b386c8e1.chunk.js.map